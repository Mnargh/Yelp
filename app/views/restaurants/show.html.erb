
<p>
  <strong>Name:</strong>
  <%= @restaurant.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @restaurant.description %>
</p>
<p>
<strong>Average Rating:</strong>
  <%  sum = @restaurant.reviews.map(&:rating).inject(0, &:+).to_f %>
  <%= (sum/@restaurant.reviews.map(&:rating).length).round(1) %>
</p>

<h2>Reviews</h2>
<% @restaurant.reviews.each do |review| %>
<p>
  <strong>Rating:</strong>
<%= review.rating %>
</p>

<p>
<strong>Comment:</strong>
<%= review.comment %>
</p>
<% end %>


<h2>Add a comment:</h2>
<%= form_with(model: [ @restaurant, @restaurant.reviews.build ],
local: true) do |form| %>
  <p>
    <%= form.label :rating %><br>
    <%= form.select :rating, [1, 2, 3, 4, 5] %>
  </p>
  <p>
    <%= form.label :comment %><br>
    <%= form.text_area :comment %>
  </p>
  <p>
    <%= form.submit %>
  </p>
  <% end %>

<%= link_to 'Back', restaurants_path %>
<%= link_to 'Edit', edit_restaurant_path(@restaurant) %>
